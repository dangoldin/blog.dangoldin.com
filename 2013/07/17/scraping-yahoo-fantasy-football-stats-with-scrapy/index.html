<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Scraping Yahoo fantasy football stats with Scrapy - Dan Goldin</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=referrer content="no-referrer"><meta name=description content="Over the weekend I updated my old Yahoo fantasy football stats scraper to use Scrapy and wanted to share some thoughts."><meta property="og:site_name" content="Dan Goldin"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="/2013/07/17/scraping-yahoo-fantasy-football-stats-with-scrapy/"><meta property="og:title" content="Scraping Yahoo fantasy football stats with Scrapy"><meta property="og:image" content="/image/photo.jpg"><meta property="og:description" content="Over the weekend I updated my old Yahoo fantasy football stats scraper to use Scrapy and wanted to share some thoughts."><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dangoldin"><meta name=twitter:creator content="@dangoldin"><meta name=twitter:title content="Scraping Yahoo fantasy football stats with Scrapy"><meta name=twitter:description content="Over the weekend I updated my old Yahoo fantasy football stats scraper to use Scrapy and wanted to share some thoughts."><meta name=twitter:image content="/image/photo.jpg"><link rel=canonical href=/2013/07/17/scraping-yahoo-fantasy-football-stats-with-scrapy/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin=anonymous><link rel=stylesheet href=https://nanx-assets.netlify.app/fonts.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github-gist.min.css integrity="sha512-od7JLoOTxM8w/HSKGzP9Kexc20K9p/M2zxSWsd7H1e4Ctf+8SQFtCWEZnW5u6ul5ehSECa5QmOk9ju2nQMmlVA==" crossorigin=anonymous><link rel="shortcut icon" href=image/favicon.png><link href=/index.xml rel=alternate type=application/rss+xml title="Dan Goldin"></head><body><div class="my-4 my-lg-5 header"><div class=container><div class=row><div class="col-auto offset-lg-2 d-none d-lg-block"><a href=/><img class="ml-lg-4 logo img-fluid d-block rounded-circle" src=/image/photo.jpg alt=logo></a></div><div class="col-auto align-self-center mr-auto"><a href=/><h1 class=name>Dan Goldin</h1></a><ul class="nav nav-primary"><li class=nav-item><a class="nav-link text-home" href=/>Home</a></li><li class=nav-item><a class="nav-link text-about" href=/about/>About</a></li><li class=nav-item><a class="nav-link text-lore" href=/lore/>Lore</a></li></ul></div></div></div></div><div class=content><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><h1 class="mx-0 mx-md-4 blog-post-title">Scraping Yahoo fantasy football stats with Scrapy</h1><div class="mb-md-4 meta"><span class="date middot" title="Wed Jul 17 2013 00:00:00 UTC">2013-07-17</span>
<span class="reading-time middot">6 min read</span><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"><li class="d-inline middot"><a href=/tags/python>python</a></li><li class="d-inline middot"><a href=/tags/code>code</a></li><li class="d-inline middot"><a href=/tags/datascience>datascience</a></li></ul></div><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"></ul></div></div><div class="markdown blog-post-content"><p>Last week, someone reminded me of an old project I had on GitHub that scraped fantasy football stats from Yahoo. Unfortunately, it was antiquated and failed to retrieve the data for the current season. I’ve also been interested in trying out the <a href=http://scrapy.org/ target=_blank>Scrapy</a> framework and decided this would be a good opportunity to give it a shot. I tried finding a sample project that dealt with authentication as a starting point but wasn’t able to find one so hopefully my attempt can serve as an example to others.</p><p>The full project is <a href=https://github.com/dangoldin/yahoo-ffl target=_blank>available on GitHub</a> but I wanted to highlight a few of the components:</p><ul class=bulleted><li><strong>parse method</strong>: This submits a form POST to the Yahoo login page which authenticates the session. The key point here is to specify a callback function which will continue the existing session.<div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>parse</span>(self, response):
    <span style=color:#66d9ef>return</span> [FormRequest<span style=color:#f92672>.</span>from_response(response,
                formdata<span style=color:#f92672>=</span>{<span style=color:#e6db74>&#39;login&#39;</span>: self<span style=color:#f92672>.</span>settings[<span style=color:#e6db74>&#39;YAHOO_USERNAME&#39;</span>],
                		  <span style=color:#e6db74>&#39;passwd&#39;</span>: self<span style=color:#f92672>.</span>settings[<span style=color:#e6db74>&#39;YAHOO_PASSWORD&#39;</span>]},
                callback<span style=color:#f92672>=</span>self<span style=color:#f92672>.</span>after_login)]{<span style=color:#f92672>%</span> endhighlight python <span style=color:#f92672>%</span>}
	<span style=color:#f92672>&lt;/</span>li<span style=color:#f92672>&gt;</span>
	<span style=color:#f92672>&lt;</span>li<span style=color:#f92672>&gt;&lt;</span>strong<span style=color:#f92672>&gt;</span>parse_stats method<span style=color:#f92672>&lt;/</span>strong<span style=color:#f92672>&gt;</span>: In previous projects, I struggled <span style=color:#66d9ef>with</span> separating the crawling <span style=color:#f92672>from</span> the parsing since the page would have information that would relevant to both <span style=color:#f92672>-</span> <span style=color:#66d9ef>for</span> example I would want to extract information <span style=color:#f92672>from</span> a page as well as find the next page to scrape. Scrapy offers a nice solution by letting you return different types from the same method. Returing a Request will lead to another page being crawled but one can also returned the scraped structured data via an Item. In the case of the scraper, I <span style=color:#66d9ef>return</span> the fantasy football stats on each page via Items but also <span style=color:#66d9ef>return</span> a Request when I want to navigate to the next page of stats<span style=color:#f92672>.</span>
<span style=color:#f92672>&lt;</span>div class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;highlight&#34;</span><span style=color:#f92672>&gt;&lt;</span>pre style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;</span><span style=color:#f92672>&gt;&lt;</span>code class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;language-python&#34;</span> data<span style=color:#f92672>-</span>lang<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;python&#34;</span><span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#a6e22e&#34;</span><span style=color:#f92672>&gt;</span>parse_stats<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>(self, response):
    hxs <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> HtmlXPathSelector(response)

    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#75715e&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e># Parse the next url&lt;/span&gt;</span>
    next_page <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> hxs<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>select(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;//ul[@class=&amp;#34;pagingnavlist&amp;#34;]/li[contains(@class,&amp;#34;last&amp;#34;)]/a/@href&amp;#39;&lt;/span&gt;)</span>
    next_page_url <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;http://football.fantasysports.yahoo.com&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; next_page&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;extract()[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]</span>
    count <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> int(RE_CNT<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>findall(next_page_url)[<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#ae81ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>]) <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#75715e&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e># Don&amp;#39;t go past a certain threshold of players&lt;/span&gt;</span>
    current_week <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> int(RE_WEEK<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>findall(next_page_url)[<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#ae81ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>])

    self<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>log(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;Next url is at count {} with week {}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;format(count, current_week))</span>

    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> current_week <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>=&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#ae81ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>17</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:
        <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#75715e&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e># Parse the stats&lt;/span&gt;</span>
        stat_rows <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> hxs<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>select(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;//table[@id=&amp;#34;statTable0&amp;#34;]/tbody/tr&amp;#39;&lt;/span&gt;)</span>
        xpath_map <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> {
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;name&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[contains(@class,&amp;#34;player&amp;#34;)]/div[contains(@class,&amp;#34;ysf-player-name&amp;#34;)]/a/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;position&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[contains(@class,&amp;#34;player&amp;#34;)]/div[contains(@class,&amp;#34;ysf-player-detail&amp;#34;)]/ul/li[contains(@class,&amp;#34;ysf-player-team-pos&amp;#34;)]/span/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;opp&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[contains(@class,&amp;#34;opp&amp;#34;)]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;passing_yds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][1]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;passing_tds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][2]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;passing_int&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][3]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;rushing_yds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][4]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;rushing_tds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][5]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;receiving_recs&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][6]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;receiving_yds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][7]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;receiving_tds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][8]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;return_tds&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][9]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;misc_twopt&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][10]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;fumbles&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[@class=&amp;#34;stat&amp;#34;][11]/text()&amp;#39;&lt;/span&gt;,</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;points&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;td[contains(@class,&amp;#34;pts&amp;#34;)]/text()&amp;#39;&lt;/span&gt;,</span>
        }
        <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>for</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> stat_row <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#f92672>in</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> stat_rows:
            stats_item <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> ScrapefflPlayerItem()
            stats_item[<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;week&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; current_week</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>for</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> col_name, xpath <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#f92672>in</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> xpath_map<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>items():
                stats_item[col_name] <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span> stat_row<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>select(xpath)<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>extract()
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>yield</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> stats_item

    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#75715e&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e># Jump to next week if we go past the threshold of players&lt;/span&gt;</span>
        <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> count <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>gt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> self<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>settings[<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;MAX_STATS_PER_WEEK&amp;#39;&lt;/span&gt;]:</span>
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>yield</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> Request(self<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>base_url<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>format(self<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>settings[<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;YAHOO_LEAGUEID&amp;#39;&lt;/span&gt;], current_week &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;), callback&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;parse_stats)</span>
        <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>else</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:
            <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#66d9ef&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>yield</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> Request(next_page_url, callback<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;</span>self<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;.&lt;/</span>span<span style=color:#f92672>&gt;</span>parse_stats){<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;%&lt;/</span>span<span style=color:#f92672>&gt;</span> endhighlight python <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;%&lt;/</span>span<span style=color:#f92672>&gt;</span>}}
	<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>/&lt;/</span>span<span style=color:#f92672>&gt;</span>li<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>gt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>
	<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>li<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>gt;<span style=color:#f92672>&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>strong<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>gt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>XPath expressions<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>/&lt;/</span>span<span style=color:#f92672>&gt;</span>strong<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>gt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>: In the past, I<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#39;d use either BeautifulSoup or PyQuery to traverse the DOM but found XPath expressions to be simpler. There’s less code to write and the expressions are easier to understand and have a higher information density.&lt;/span&gt;</span>
<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>div class<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;highlight&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;pre style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;code class&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;language-python&amp;#34;&lt;/span&gt; data&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;lang&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;python&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;stat_rows &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; hxs&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;select(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;//table[@id=&amp;amp;#34;statTable0&amp;amp;#34;]/tbody/tr&amp;amp;#39;&amp;lt;/span&amp;gt;)&lt;/span&gt;</span>
xpath_map <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; {</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;name&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[contains(@class,&amp;amp;#34;player&amp;amp;#34;)]/div[contains(@class,&amp;amp;#34;ysf-player-name&amp;amp;#34;)]/a/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;position&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[contains(@class,&amp;amp;#34;player&amp;amp;#34;)]/div[contains(@class,&amp;amp;#34;ysf-player-detail&amp;amp;#34;)]/ul/li[contains(@class,&amp;amp;#34;ysf-player-team-pos&amp;amp;#34;)]/span/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;opp&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[contains(@class,&amp;amp;#34;opp&amp;amp;#34;)]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;passing_yds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][1]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;passing_tds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][2]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;passing_int&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][3]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;rushing_yds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][4]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;rushing_tds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][5]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;receiving_recs&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][6]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;receiving_yds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][7]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;receiving_tds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][8]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;return_tds&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][9]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;misc_twopt&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][10]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;fumbles&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[@class=&amp;amp;#34;stat&amp;amp;#34;][11]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
    <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#e6db74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#39;points&amp;amp;#39;&amp;lt;/span&amp;gt;: &amp;lt;span style=&amp;#34;color:#e6db74&amp;#34;&amp;gt;&amp;amp;#39;td[contains(@class,&amp;amp;#34;pts&amp;amp;#34;)]/text()&amp;amp;#39;&amp;lt;/span&amp;gt;,&lt;/span&gt;</span>
}{<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;%&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; endhighlight python &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;%&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;}</span>
	<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;li&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;</span>
<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;ul&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt;gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;</span>

This also got me thinking about the evolution of my approach to scraping<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; In &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#ae81ff&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2006&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, I was into Perl &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; scraped using the LWP::Simple, WWW::Mechanize &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; the HTML::TreeBuilder libraries&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; After I moved on to Python I switched to using urllib &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; BeautifulSoup&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Most recently, I&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#960050;background-color:#1e0010&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;’&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;ve started using the wonderful requests library along &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#66d9ef&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;with&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; PyQuery&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Conceptually, these approaches are the same: first retrieve a web page &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; then extract the data you want by traversing the DOM&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Scrapy does the same thing internally but by removing a ton of the boilerplate, it lets you focus on the key problems &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; scraping &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;-&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; figuring out what page to scrape next &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; figuring out how to extract the content&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; The rest &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; handled by Scrapy itself &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;-&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; including file storage, retries, throttling, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; probably a ton more that I haven&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#960050;background-color:#1e0010&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;’&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;t gotten a chance to explore yet&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;</span>

This also gives me some time to work on the actual draft algorithm<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;&amp;</span>lt;<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>span style<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#f92672&#34;</span><span style=color:#f92672>&gt;=&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color:#e6db74&#34;</span><span style=color:#f92672>&gt;&amp;</span><span style=color:#75715e>#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; My goal &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; to create a strategy that&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#960050;background-color:#1e0010&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;’&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;s using a value based approach combined &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#66d9ef&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;with&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; my schedule&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; The idea &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; that I shouldn&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#960050;background-color:#1e0010&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;’&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;t pick the players that will have the highest point total over the season but the ones that will have more points during my tough matchups&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; Of course, it&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#960050;background-color:#1e0010&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;’&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;s almost all luck but I&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#960050;background-color:#1e0010&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;’&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;m still looking forward to attempting this approach&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color:#f92672&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;.&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;code&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;pre&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;div&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</span></code></pre></div></div><div class=navigation><div class=row><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-left"><a href=/2013/07/13/marketplaces-are-hard/>« Marketplaces are hard</a></div></div><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-right"><a href=/2013/07/21/beware-the-data-monopoly/>Beware the data monopoly »</a></div></div></div></div></div></div></div></div><section id=comments><div class="py-3 content"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><div class=comments><script src=https://utteranc.es/client.js repo=dangoldin/blog.dangoldin.com-comments issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></div></div></div></div></div></section><div class="my-4 footer"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><hr></div></div><div class="row justify-content-center"><div class="col-sm-12 col-lg-2"><div class="mx-0 mx-md-4 site-copyright">© 2021 Dan Goldin</div></div><div class="col-sm-12 col-lg-6"><div class="mx-0 mx-md-4 site-social"><ul><li><a href=mailto:dan@dangoldin.com>Contact</a></li><li><a href=https://github.com/dangoldin target=_blank>GitHub</a></li><li><a href=https://twitter.com/dangoldin target=_blank>Twitter</a></li><li><a href=https://www.linkedin.com/in/dangoldin target=_blank>LinkedIn</a></li><li><a href=/index.xml class=mr-0>RSS</a></li></ul></div></div></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js defer></script><script>window.addEventListener('load',function(){hljs.initHighlighting();},true);</script></body></html>