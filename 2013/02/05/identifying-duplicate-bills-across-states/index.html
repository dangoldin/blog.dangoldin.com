<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Identifying duplicate bills across states - Dan Goldin</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=referrer content="no-referrer"><meta name=description content="We use the OpenStates API to download bills from various states and compare them against each other in order to find similar language that will indicate bills written under a 3rd party influence."><meta property="og:site_name" content="Dan Goldin"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="/2013/02/05/identifying-duplicate-bills-across-states/"><meta property="og:title" content="Identifying duplicate bills across states"><meta property="og:image" content="//image/gun1-in.png"><meta property="og:description" content="We use the OpenStates API to download bills from various states and compare them against each other in order to find similar language that will indicate bills written under a 3rd party influence."><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dangoldin"><meta name=twitter:creator content="@dangoldin"><meta name=twitter:title content="Identifying duplicate bills across states"><meta name=twitter:description content="We use the OpenStates API to download bills from various states and compare them against each other in order to find similar language that will indicate bills written under a 3rd party influence."><meta name=twitter:image content="//image/gun1-in.png"><link rel=canonical href=/2013/02/05/identifying-duplicate-bills-across-states/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin=anonymous><link rel=stylesheet href=https://nanx-assets.netlify.app/fonts.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github-gist.min.css integrity="sha512-od7JLoOTxM8w/HSKGzP9Kexc20K9p/M2zxSWsd7H1e4Ctf+8SQFtCWEZnW5u6ul5ehSECa5QmOk9ju2nQMmlVA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicon.png><link href=/index.xml rel=alternate type=application/rss+xml title="Dan Goldin"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-36313127-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-36313127-1')</script></head><body><div class="my-4 my-lg-5 header"><div class=container><div class=row><div class="col-auto offset-lg-2 d-none d-lg-block"><a href=/><img class="ml-lg-4 logo img-fluid d-block rounded-circle" src=/image/photo.jpg alt=logo></a></div><div class="col-auto align-self-center mr-auto"><a href=/><h1 class=name>Dan Goldin</h1></a><ul class="nav nav-primary"><li class=nav-item><a class="nav-link text-home" href=/>Home</a></li><li class=nav-item><a class="nav-link text-about" href=/about/>About</a></li><li class=nav-item><a class="nav-link text-lore" href=/lore/>Lore</a></li></ul></div></div></div></div><div class=content><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><h1 class="mx-0 mx-md-4 blog-post-title">Identifying duplicate bills across states</h1><div class="mb-md-4 meta"><span class="date middot" title="Tue Feb 5 2013 00:00:00 UTC">2013-02-05</span>
<span class="reading-time middot">2 min read</span><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"><li class="d-inline middot"><a href=/tags/datascience>datascience</a></li><li class="d-inline middot"><a href=/tags/dataviz>dataviz</a></li><li class="d-inline middot"><a href=/tags/code>code</a></li></ul></div><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"></ul></div></div><div class="markdown blog-post-content"><p>This past weekend I participated in the <a href=http://www.bdatafest.computationalreporting.com/>Bicoastal Datafest</a> hackathon that brought together journalists and hackers with the goal of analyzing money’s influence in politics. I came in with the idea of analyzing the evolution of a bill in order to see which politician made the various changes and relate that to campaign contributions. I quickly discovered that that wouldn&rsquo;t be very easy, especially in two days, but I did meet <a href=https://twitter.com/llewellynhinkes>Llewellyn</a>, a journalist/hacker, who had a more practical idea of programmatically identifying bills across states that used the same language. The intuition behind this being that it would identify bills that were unlikely to have been written independently of one another and likely to have been influenced by a 3rd party.</p><p>We ended up with the following approach that we were able to code up during the weekend:</p><ol><li>Use the OpenStates API to get the URL of the bills</li><li>Download the bills and convert each to raw text - from PDF and HTML</li><li>Extract 8 word phrases from each bill, excluding stopwords</li><li>See which phrases were duplicated across states</li><li>Examine the duplicate phrases to see which bills are most likely duplicates</li></ol><p>Somewhat surprisingly, this approach led us to discover the following duplicate bills:</p><h3>Firearms Freedom Acts</h3><p>Shared the phrase: <strong>manufactured without inclusion significant parts imported another state</strong></p><ul class=thumbnails><li class=span3><div class=thumbnail><p><a href=http://www.in.gov/legislative/bills/2013/PDF/FISCAL/SB0130.001.pdf>Indiana</a></p><img src=/image/drug-nj.png alt="Tweets sent by hour" data-width=953 data-height=666 data-layout=responsive></div></li><li class=span3><div class=thumbnail><p><a href=http://www.legislature.mi.gov/documents/2013-2014/billanalysis/Senate/htm/2013-SFA-0063-S.htm>Michigan</a></p><img src=/image/drug-nj.png alt="Tweets sent by hour" data-width=953 data-height=666 data-layout=responsive></div></li></ul><h3>Prohibit US government officials from enforcing firearm-related acts</h3><p>Shared the phrase: <strong>accessory ammunition owned manufactured commercially privately state remains</strong></p><ul class=thumbnails><li class=span3><div class=thumbnail><p><a href="http://www.azleg.gov//FormatDocument.asp?inDoc=/legtext/51leg/1r/summary/s.1112ps.doc.htm&Session_ID=110">Arizona</a></p><img src=/image/drug-nj.png alt="Tweets sent by hour" data-width=953 data-height=666 data-layout=responsive></div></li><li class=span3><div class=thumbnail><p><a href="http://wapp.capitol.tn.gov/apps/billinfo/BillSummaryArchive.aspx?BillNumber=HB0042&ga=108">Tennessee</a></p><img src=/image/drug-nj.png alt="Tweets sent by hour" data-width=953 data-height=666 data-layout=responsive></div></li></ul><h3>Prevent pharmaceutical substitution of opioid drugs</h3><p>Shared the phrase: <strong>bear labeling claim respect reduction tampering abuse abuse</strong></p><ul class=thumbnails><li class=span3><div class=thumbnail><p><a href=http://open.nysenate.gov/legislation/bill/S1753-2013>New York</a></p><img src=/image/drug-nj.png alt="Tweets sent by hour" data-width=953 data-height=666 data-layout=responsive></div></li><li class=span3><div class=thumbnail><p><a href=http://www.njleg.state.nj.us/2012/Bills/A3000/2590_S1.HTM>New Jersey</a></p><img src=/image/drug-nj.png alt="Tweets sent by hour" data-width=953 data-height=666 data-layout=responsive></div></li></ul><p>The code&rsquo;s up on <a href=https://github.com/dangoldin/lawdiff>Github</a> so if you have any ideas or improvements - contribute and help out. In two days we were able to get something useful done and it&rsquo;s exciting to see what we can discover if we stick with it.</p></div><div class=navigation><div class=row><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-left"><a href=/2013/02/01/improving-online-programming-classes/>« Improving online programming classes</a></div></div><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-right"><a href=/2013/02/08/more-thoughts-on-online-education/>More thoughts on online education »</a></div></div></div></div></div></div></div></div><section id=comments><div class="py-3 content"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><div class=comments><script src=https://utteranc.es/client.js repo=dangoldin/blog.dangoldin.com-comments issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></div></div></div></div></div></section><div class="my-4 footer"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><hr></div></div><div class="row justify-content-center"><div class="col-sm-12 col-lg-2"><div class="mx-0 mx-md-4 site-copyright">© 2021 Dan Goldin</div></div><div class="col-sm-12 col-lg-6"><div class="mx-0 mx-md-4 site-social"><ul><li><a href=mailto:dan@dangoldin.com>Contact</a></li><li><a href=https://github.com/dangoldin target=_blank>GitHub</a></li><li><a href=https://twitter.com/dangoldin target=_blank>Twitter</a></li><li><a href=https://www.linkedin.com/in/dangoldin target=_blank>LinkedIn</a></li><li><a href=/index.xml class=mr-0>RSS</a></li></ul></div></div></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js defer></script><script>window.addEventListener('load',function(){hljs.initHighlighting()},!0)</script></body></html>