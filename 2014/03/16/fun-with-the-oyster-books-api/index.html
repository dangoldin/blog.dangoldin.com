<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Fun with the Oyster books API - Dan Goldin</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=referrer content="no-referrer"><meta name=description content="Crawling the Oyster books web API and having some fun with the resulting data set."><meta property="og:site_name" content="Dan Goldin"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="/2014/03/16/fun-with-the-oyster-books-api/"><meta property="og:title" content="Fun with the Oyster books API"><meta property="og:image" content="//image/oyster-rating-vs-pages.png"><meta property="og:description" content="Crawling the Oyster books web API and having some fun with the resulting data set."><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dangoldin"><meta name=twitter:creator content="@dangoldin"><meta name=twitter:title content="Fun with the Oyster books API"><meta name=twitter:description content="Crawling the Oyster books web API and having some fun with the resulting data set."><meta name=twitter:image content="//image/oyster-rating-vs-pages.png"><link rel=canonical href=/2014/03/16/fun-with-the-oyster-books-api/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin=anonymous><link rel=stylesheet href=https://nanx-assets.netlify.app/fonts.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github-gist.min.css integrity="sha512-od7JLoOTxM8w/HSKGzP9Kexc20K9p/M2zxSWsd7H1e4Ctf+8SQFtCWEZnW5u6ul5ehSECa5QmOk9ju2nQMmlVA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicon.png><link href=/index.xml rel=alternate type=application/rss+xml title="Dan Goldin"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-36313127-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-36313127-1")</script></head><body><div class="my-4 my-lg-5 header"><div class=container><div class=row><div class="col-auto offset-lg-2 d-none d-lg-block"><a href=/><img class="ml-lg-4 logo img-fluid d-block rounded-circle" src=/image/photo.jpg alt=logo></a></div><div class="col-auto align-self-center mr-auto"><a href=/><h1 class=name>Dan Goldin</h1></a><ul class="nav nav-primary"><li class=nav-item><a class="nav-link text-home" href=/>Home</a></li><li class=nav-item><a class="nav-link text-about" href=/about/>About</a></li><li class=nav-item><a class="nav-link text-lore" href=/lore/>Lore</a></li></ul></div></div></div></div><div class=content><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><h1 class="mx-0 mx-md-4 blog-post-title">Fun with the Oyster books API</h1><div class="mb-md-4 meta"><span class="date middot" title='Sun Mar 16 2014 00:00:00 UTC'>2014-03-16</span>
<span class="reading-time middot">4 min read</span><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"><li class="d-inline middot"><a href=/tags/datascience>datascience</a></li><li class="d-inline middot"><a href=/tags/dataviz>dataviz</a></li></ul></div><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"></ul></div></div><div class="markdown blog-post-content"><p>I’m an avid reader and signed up for <a href=http://oysterbooks.com/ target=_blank>Oyster</a> as soon as I discovered them. Since then, every time I wanted to read a new book my first step has been to check Oyster. If the book wasn’t available I’d get it the old fashioned way and read it via Readmill, another great app.</p><p>One feature I wish Oyster had was the ability to see the overlap between their available collection and what I had in my “to read” list. The only way to do this now is to go through my list one book at a time and then search for it using the Oyster iOS app since the search functionality isn’t available via the web. Being lazy, I really didn’t want to do this and started searching for a quicker way. By browsing their website and looking at the network requests in Chrome I noticed two interesting API calls being made - one to get the book “sets” and another to get the books with a set.</p><p>These API endpoints turned out to be publicly accessible and it only took a short Python <a href=https://github.com/dangoldin/oyster-books-crawl target=_blank>script</a> to retrieve the books and dump them into a CSV file. This got me a little less than 3,000 books - turns out that the publicly accessible data is only a fraction of the entire collection and my endeavour wasn’t as fruitful as hoped.</p><p>I did manage to get a set of over 4,000 books and decided to have fun with it.</p><ul class=thumbnails><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-authors-by-num-books.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Num of authors by num of books written.</strong> Very few others appear more than once in the data set. This may be due to the limited data set or Oyster's job in editing the publicly accessible collections, maybe both.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-authors-author-ratings.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Distribution of ratings.</strong> Ratings are clustered around 4 with very few ratings under 3. This is most likely a biased set since the Oyster editors would have chosen the highest rated books to be featured in their sets.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-authors-num-books-by-author.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Num of books by author.</strong> Kurt Vonnegut has over 20 books available on Oyster with Shakespeare in the number 2 spot.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-authors-box-plot-rating-by-author.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Ratings by author box plot.</strong> Just a quick box plot to see the rating distribution by author.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-authors-num-books-vs-rating.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Rating vs # of books.</strong> Doesn't look as if the # of books an author has written on Oyster has any relationship with their rating. I thought maybe authors with higher average ratings would appear more frequently.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-authors-author-ratings-over-time.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Rating over time by author.</strong> This was a reach but I wanted to see whether an author was most likely to have better ratings earlier or later in his or her career. In this case it looks as if the publish date isn't the original authorship date so not a very useful analysis.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-pub-ratings.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Publisher ratings.</strong> Similar to authors, we can take a look to see whether some publishers have significantl higher ratings than others. This is a bit more useful since there's a lot more data per publisher than there is per author. I couldn't make much sense of the results here.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-num-pages-by-decade.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Avg number of pages by decade.</strong> I wanted to see whether books were getting longer or shorter so did a quick plot of the average number of published pages by decade since the year was too fine. The publish dates aren't entirely accurate so I wouldn't read too much into this.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-rating-by-decade.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Avg rating by decade.</strong> Similar to the previous plot but looking at the average rating rather than the number of pages. Seems to be pretty steady to me although this may be due to the dataset being a curated list of top books.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-rating-vs-date.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Rating vs date.</strong> Another way to look at the previous plot but plotting each book rather than the average by decade. Not much going on here although this may be due to the biased dataset and flawed publish dates.</p></div></li><li><div class=thumbnail><a href="{{ IMG_PATH }}oyster-rating-vs-pages.png"><img src=/image/oyster-rating-vs-pages.png alt="Rating vs # pages" data-width=600 data-height=600 data-layout=responsive></a><p><strong>Rating vs number of pages.</strong> This is an interesting one - are longer books more popular? Most of the books are clustered around a couple of hundred pages but longer books do tend to have a higher average rating. I'm not sure why this would be the case but would guess that only someone who's already interested in a long book would read it or stick with it enough to leave a review.</p></div></li></ul><p>As usual, the code&rsquo;s up on <a href=https://github.com/dangoldin/oyster-books-crawl target=_blank>GitHub</a>.</p></div><div class=navigation><div class=row><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-left"><a href=/2014/03/11/website-load-times-nyc-vs-beijing/>« Website load times: NYC vs Beijing</a></div></div><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-right"><a href=/2014/03/18/goodbye-gmail/>Goodbye Gmail »</a></div></div></div></div></div></div></div></div><section id=comments><div class="py-3 content"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><div class=comments><script src=https://utteranc.es/client.js repo=dangoldin/blog.dangoldin.com-comments issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></div></div></div></div></div></section><div class="my-4 footer"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><hr></div></div><div class="row justify-content-center"><div class="col-sm-12 col-lg-2"><div class="mx-0 mx-md-4 site-copyright">© 2021 Dan Goldin</div></div><div class="col-sm-12 col-lg-6"><div class="mx-0 mx-md-4 site-social"><ul><li><a href=mailto:dan@dangoldin.com>Contact</a></li><li><a href=https://github.com/dangoldin target=_blank>GitHub</a></li><li><a href=https://twitter.com/dangoldin target=_blank>Twitter</a></li><li><a href=https://www.linkedin.com/in/dangoldin target=_blank>LinkedIn</a></li><li><a href=/index.xml class=mr-0>RSS</a></li></ul></div></div></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js defer></script>
<script>window.addEventListener("load",function(){hljs.initHighlighting()},!0)</script></body></html>