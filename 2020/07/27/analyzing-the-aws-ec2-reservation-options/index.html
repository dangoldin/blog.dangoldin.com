<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Analyzing the AWS EC2 reservation options - Dan Goldin
</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=referrer content="no-referrer"><meta name=description content="AWS offers a variety of reservation options for the EC2 instances and a few things stand out when you compare them."><meta property="og:site_name" content="Dan Goldin"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="/2020/07/27/analyzing-the-aws-ec2-reservation-options/"><meta property="og:title" content="Analyzing the AWS EC2 reservation options"><meta property="og:image" content="//image/aws-ec2-reservation-comparison.png"><meta property="og:description" content="AWS offers a variety of reservation options for the EC2 instances and a few things stand out when you compare them."><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dangoldin"><meta name=twitter:creator content="@dangoldin"><meta name=twitter:title content="Analyzing the AWS EC2 reservation options"><meta name=twitter:description content="AWS offers a variety of reservation options for the EC2 instances and a few things stand out when you compare them."><meta name=twitter:image content="//image/aws-ec2-reservation-comparison.png"><link rel=canonical href=/2020/07/27/analyzing-the-aws-ec2-reservation-options/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin=anonymous><link rel=stylesheet href=https://nanx-assets.netlify.app/fonts.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github-gist.min.css integrity="sha512-od7JLoOTxM8w/HSKGzP9Kexc20K9p/M2zxSWsd7H1e4Ctf+8SQFtCWEZnW5u6ul5ehSECa5QmOk9ju2nQMmlVA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=UA-36313127-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-36313127-1")</script></head><body><div class="my-4 my-lg-5 header"><div class=container><div class=row><div class="col-auto offset-lg-2 d-none d-lg-block"><a href=/><img class="ml-lg-4 logo img-fluid d-block rounded-circle" src=/image/photo.jpg alt=logo></a></div><div class="col-auto align-self-center mr-auto"><a href=/><h1 class=name>Dan Goldin</h1></a><ul class="nav nav-primary"><li class=nav-item><a class="nav-link text-home" href=/>Home</a></li><li class=nav-item><a class="nav-link text-about" href=/about/>About</a></li><li class=nav-item><a class="nav-link text-lore" href=/lore/>Lore</a></li></ul></div></div></div></div><div class=content><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><h1 class="mx-0 mx-md-4 blog-post-title">Analyzing the AWS EC2 reservation options</h1><div class="mb-md-4 meta"><span class="date middot" title='Mon Jul 27 2020 00:00:00 UTC'>2020-07-27
</span><span class="reading-time middot">2 min read</span><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"><li class="d-inline middot"><a href=/tags/dataviz>dataviz</a></li><li class="d-inline middot"><a href=/tags/devops>devops</a></li></ul></div><div class="d-none d-md-inline tags"><ul class="list-unstyled d-inline"></ul></div></div><div class="markdown blog-post-content"><p>While writing the post on AWS reservations I started thinking if there&rsquo;s any arbitrage opportunity in the reservations. For example - does it make sense to do a 1 year or 3 year reservation for some instance types of upgrade an instance class to get a better reservation value?</p><p>You can do this manually using ec2instances.info which provides a quick way to look at EC2 pricing info although forces you to pick the type of reservations you&rsquo;re interested in. To speed things up I just ran the <a href=https://github.com/powdahound/ec2instances.info>ec2instances.info script</a> to scrape the data into a JSON with a <a href=https://github.com/dangoldin/analyze-ec2instance.info>quick script</a> to extract the relevant details into a CSV file. After that, it was as simple as loading into <a href="https://docs.google.com/spreadsheets/d/1h5H3vsZluk1_TGGMGrZq-KFiha-Bfhu4OBzyp5QynA8/edit#gid=0">Google sheets</a> for some analysis and visualization.</p><p>There are a few surprises - the biggest was how much of a variance there is by instance type. The smallest discount comes with the 1 year convertible, no up front payment option and ranges from around 21% for the i3en series but goes up to 49% for the i2 series. I&rsquo;m sure most of this is a function of the age and demand for the types but it&rsquo;s worth auditing use cases to see whether you get more bang for the buck on a slightly older instance. The same pattern holds when you look at the 3 year full up front payment options. The i2 series gets you a 75% discount while the discount on the i3en series climbs to 62%.</p><p>Another interesting analysis is to compare the cheapest reserved option (1 year convertible, no upfront) with the most expensive (3 year standard, full upfront) to check out the outliers. As expected, they&rsquo;re strongly correlated but you do so see variance - for example the p2 and p3 series have a similar discount for the 1 year term term but the p2 gets you a 10% larger discount than the p3 for the 3 year term.</p><img src=/image/aws-ec2-reservation-comparison.png alt="AWS EC2 Reservation type comparison" data-width=1189 data-height=736 data-layout=responsive><p>The code is up on <a href=https://github.com/dangoldin/analyze-ec2instance.info>GitHub</a> with the data available on a <a href="https://docs.google.com/spreadsheets/d/1h5H3vsZluk1_TGGMGrZq-KFiha-Bfhu4OBzyp5QynA8/edit#gid=0">Google spreadsheet</a> so if there&rsquo;s anything else that stands out I&rsquo;d love to know about it.</p></div><div class=navigation><div class=row><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-left"><a href=/2020/07/24/amusing-russian-translations-in-duolingo/>« Amusing Russian translations in Duolingo</a></div></div><div class="col-12 col-lg-6"><div class="mx-0 mx-md-4 mt-4 text-right"><a href=/2020/07/30/products-change-humans-stay-the-same/>Products change, humans stay the same »</a></div></div></div></div></div></div></div></div><section id=comments><div class="py-3 content"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><div class=comments><script src=https://utteranc.es/client.js repo=dangoldin/blog.dangoldin.com-comments issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></div></div></div></div></div></section><div class="my-4 footer"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-lg-8"><hr></div></div><div class="row justify-content-center"><div class="col-sm-12 col-lg-2"><div class="mx-0 mx-md-4 site-copyright">© 2024 Dan Goldin</div></div><div class="col-sm-12 col-lg-6"><div class="mx-0 mx-md-4 site-social"><ul><li><a href=mailto:dan@dangoldin.com>Contact</a></li><li><a href=https://github.com/dangoldin target=_blank>GitHub</a></li><li><a href=https://twitter.com/dangoldin target=_blank>Twitter</a></li><li><a href=https://www.linkedin.com/in/dangoldin target=_blank>LinkedIn</a></li></ul></div></div></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js defer></script><script>window.addEventListener("load",function(){hljs.initHighlighting()},!0)</script></body></html>